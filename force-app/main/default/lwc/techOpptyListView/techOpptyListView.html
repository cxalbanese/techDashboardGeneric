<!-- back in use due to gql -->
<template>
  <lightning-card icon-name="standard:opportunity">
    <h1 slot="title">{labels.customlabelOpportunityDetailsTitle}</h1>
    <div class="slds-text-title_caps slds-var-p-around_small">{labels.customlabelOpportunitiesCreated}</div>
    <template if:false={opptyData}>
      <div class="slds-var-p-around_small">
        {labels.customlabelOpportunitiesNone}
      </div>
    </template>
    <template if:true={opptyData}>
      <table
        class="slds-table slds-table_cell-buffer slds-table_fixed-layout slds-max-medium-table_stacked-horizontal slds-table_bordered"
      >
      <thead>
        <tr class="slds-line-height_reset">
            <th>
              Opportunity Name
            </th>            
            <th>
              Stage
            </th>
            <th>
              Close Date
            </th>
            <th>
              Amount
            </th>
        </tr>
      </thead>              
      <tbody>
        <template for:each={opptyData} for:item="row" for:index="rowIndex">
          <tr key={row.Id.value} data-record={row.Id.value}>

              <td>
                {row.Name.value} 
              </td>
              <td>
                {row.StageName.displayValue}
              </td>
              <td>
                <div>
                  <lightning-formatted-date-time 
                    value={row.CloseDate.value}></lightning-formatted-date-time></div>
              </td>
              <td>
                <div>
                  <lightning-formatted-number 
                    value={row.Amount.value} format-style="currency" currency-code={currency} currency-display-as="symbol" minimum-fraction-digits="0" ></lightning-formatted-number>
                </div>
              </td>
          </tr>
        </template>
      </tbody>
      </table>
    </template>
    </lightning-card>
  </template>